define("TYPO3/CMS/Warming/Backend/Modal/CacheWarmupReportModal",["jquery","TYPO3/CMS/Backend/ActionButton/ImmediateAction","TYPO3/CMS/Backend/Icons","TYPO3/CMS/Backend/Modal"],((e,t,a,n)=>(()=>{"use strict";var r={659:(e,t,a)=>{function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,{Z:()=>n})},730:(e,t,a)=>{function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,{Z:()=>r})},119:(e,t,a)=>{function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,{Z:()=>n})},513:(e,t,a)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o=[],l=!0,i=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,r=e}finally{try{l||null==a.return||a.return()}finally{if(i)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,{Z:()=>r})},981:e=>{e.exports=t},234:e=>{e.exports=a},140:e=>{e.exports=n},273:t=>{t.exports=e}},o={};function l(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return r[e](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{l.r(i),l.d(i,{default:()=>b});var e=l(513),t=l(659),a=l(730),n=l(119),r=l(273),o=l.n(r),s=l(981),c=l.n(s),u=l(234),d=l.n(u),p=l(140),f=l.n(p);const b=new(function(){function r(){(0,t.Z)(this,r),(0,n.Z)(this,"progress",void 0),(0,n.Z)(this,"panelCount",0)}return(0,a.Z)(r,[{key:"createModalAction",value:function(e){var t=this;return{label:TYPO3.lang["cacheWarmup.notification.action.showReport"],action:new(c())((function(){return t.createModal(e)}))}}},{key:"createModal",value:function(t){var a=this;this.progress=t,Promise.all([d().getIcon("actions-view-page",d().sizes.small),d().getIcon("content-info",d().sizes.small)]).then((function(t){var n=(0,e.Z)(t,2),r=n[0],o=n[1];f().dismiss(),a.panelCount=0;var l=a.buildModalContent(r,o);f().advanced({title:TYPO3.lang["cacheWarmup.modal.title"],content:l,size:f().sizes.large})}))}},{key:"createPanel",value:function(e,t,a,n){var r=this;return this.panelCount++,o()("<div>").addClass("panel panel-".concat(t," panel-table")).addClass((function(){return r.panelCount>1?"panel-space":""})).append(o()("<div>").addClass("panel-heading").text("".concat(e," (").concat(a.length,")")),o()("<div>").addClass("table-fit table-fit-wrap").append(o()("<table>").addClass("table table-striped table-hover").append(o()("<tbody>").append(a.map((function(e){return o()("<tr>").append(o()("<td>").addClass("col-title").text(e),o()("<td>").addClass("col-control").append(o()("<a>").attr("href",e).attr("target","_blank").addClass("btn btn-default btn-sm").html("".concat(n," ").concat(TYPO3.lang["cacheWarmup.modal.action.view"]))))}))))))}},{key:"buildModalContent",value:function(e,t){var a=o()("<div>");this.progress.getNumberOfFailedUrls()>0&&a.append(this.createPanel(TYPO3.lang["cacheWarmup.modal.panel.failed"],"danger",this.progress.urls.failed,e)),this.progress.getNumberOfSuccessfulUrls()>0&&a.append(this.createPanel(TYPO3.lang["cacheWarmup.modal.panel.successful"],"success",this.progress.urls.successful,e));var n=this.progress.progress.total>0?"".concat(TYPO3.lang["cacheWarmup.modal.total"]," ").concat(this.progress.progress.total):TYPO3.lang["cacheWarmup.modal.message.noUrlsCrawled"];return a.append(o()("<div>").addClass("badge badge-info").html("".concat(t," ").concat(n))),a}}]),r}())})(),i})()));
//# sourceMappingURL=CacheWarmupReportModal.js.map